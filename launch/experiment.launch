<launch>
	<!-- Arguments passed in from command line -->
	<arg name="ip" default="192.168.1.2" />
	<arg name="port" default="9559" />
	<arg name="instructions" default="script_hri_instructions.txt" />
	<arg name="task1" default="script_hri_task1.txt" />
	<arg name="task2" default="script_hri_task2.txt" />
	<arg name="usernum" />
	<arg name="nvb" />
	<arg name="interrupt" />
	<arg name="valscript" default="script_system_validation.txt" />
	<arg name="usercam" default="0" />

	<!-- Start Windows ROSbridge -->
	<node pkg="rosbridge_server" name="rosbridge_websocket" type="rosbridge_websocket" required="true" />        
	<node pkg="kinect2_pointing_recognition" name="kinect_parser" type="kinect_parser.py"/>

	<!-- Start ROS listener server back to Windows -->
	<node name="rosListenerServer" pkg="nao_looking_and_pointing" type="rosListenerServer.py" output="screen" />

	<!-- Start Nao sensing -->
	<node name="nao_sensing" pkg="nao_looking_and_pointing" type="naoSensing.py" args="--pip $(arg ip) --pport $(arg port)" output="screen" />

	<!-- Start timer GUI -->
	<node name="timer" pkg="nao_looking_and_pointing" type="timer.py" />

	<!-- Start the system validation menu GUI -->
	<node name="sysval_menu" pkg="nao_looking_and_pointing" type="sysval_menu.py" />

	<!-- Start the node that runs the experiment -->
	<node name="interaction_controller" pkg="nao_looking_and_pointing" type="hri_interaction.py" args="$(arg usernum) $(arg valscript) $(arg ip) $(arg port) $(arg usercam) $(arg nvb) $(arg interrupt) --script-instructions $(arg instructions) --script-task1 $(arg task1) --script-task2 $(arg task2)" required="true" output="screen"/>
</launch>